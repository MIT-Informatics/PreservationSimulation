<!-- brokergroup_form_insert.j2 file -->
{% extends "brokergroup_form_base.j2" %}

{# Macro to insert 2x1 table element for var, 
    top for heading, bottom for values. 
    All Values found in the dictionary 
    passed in. #}
{% macro insertmyvar(data, heading=none, required=none) %}    
    <td>
        <table>
            <tr><th align="left">
                <b>{%if heading%}{{heading}}{%else%}{{data.heading}}{%endif%}
                    {%if required%}<font color="red">* required</font>{%endif%}</b>
            </th></tr>
            <tr><td>
                <select name="{{data.varname}}">
    {% for item in data.lValueList %}
                <option value="{{ item.value }}"{% if item.selected != '0' %} selected{%endif%}>&nbsp;&nbsp;{{item.label}}&nbsp;</option>
    {% endfor %}
                </select>
            </td></tr>
        </table>
    </td>
{% endmacro %}

{# Macro for text var, similar table. #}
{% macro inserttextvar(name, heading, size, value="", required=none, extra=none) %}
    <td>
        <table>
            <tr><td>
                <b>{{heading}}
                    {%if required%}<font color="red">* required</font>{%endif%}</b>
            </td></tr>
            <tr><td>
                <input type="text" name={{name}} size="{{size}}" value={{value}} 
                {%if extra%}{{extra}}{%endif%}>
            </td></tr>
        </table>
    </td>
{%endmacro%}

{% macro insertcheckvar(name, heading, value="", required=none, extra=none) %}
    <td>
        <table>
            <tr><td>
                <b>{{heading}}
                    {%if required%}<font color="red">* required</font>{%endif%}</b>
            </td></tr>
            <tr><td>
                <input type="checkbox" name={{name}} value={{value}} 
                {%if extra%}{{extra}}{%endif%}>
            </td></tr>
        </table>
    </td>
{%endmacro%}


{% block nAuditFreq scoped %}
    {{insertmyvar(dVars.nAuditFreq)}}
{% endblock %}

{% block nAuditSegments scoped %}
    {{insertmyvar(dVars.nAuditSegments)}}
{% endblock %}

{% block sAuditType scoped %}
    {{insertmyvar(dVars.sAuditType)}}
{% endblock %}

{% block nCopiesMax scoped %}
   {{insertmyvar(dVars.nCopiesMax)}}
{% endblock %}

{% block nCopiesMin scoped %}
   {{insertmyvar(dVars.nCopiesMin)}}
{% endblock %}

{% block nDocSize scoped %}
    {{insertmyvar(dVars.nDocSize)}}
{% endblock %}

{% block nGlitchDecay scoped %}
    {{insertmyvar(dVars.nGlitchDecay)}}
{% endblock %}

{% block nGlitchFreq scoped %}
    {{insertmyvar(dVars.nGlitchFreq)}}
{% endblock %}

{% block nGlitchIgnorelevel scoped %}
    {{insertmyvar(dVars.nGlitchIgnorelevel)}}
{% endblock %}

{% block nGlitchImpact scoped %}
    {{insertmyvar(dVars.nGlitchImpact)}}
{% endblock %}

{% block nGlitchMaxlife scoped %}
    {{insertmyvar(dVars.nGlitchMaxlife)}}
{% endblock %}

{% block nGlitchSpan scoped %}
    {{insertmyvar(dVars.nGlitchSpan)}}
{% endblock %}

{% block nLifemMax scoped %}
   {{insertmyvar(dVars.nLifemMax)}}
{% endblock %}

{% block nLifemMin scoped %}
   {{insertmyvar(dVars.nLifemMin)}}
{% endblock %}

{% block nRandomSeeds scoped %}
   {{inserttextvar("nRandomSeeds", "Number of Replications with Random Seeds", 5, 21)}}
{% endblock %}

{% block nServerDefaultLife scoped %}
   {{insertmyvar(dVars.nServerDefaultLife)}}
{% endblock %}

{% block nShelfSize scoped %}
   {{insertmyvar(dVars.nShelfSize)}}
{% endblock %}

{% block nShockImpact scoped %}
   {{insertmyvar(dVars.nShockImpact)}}
{% endblock %}

{% block nShockMaxlife scoped %}
   {{insertmyvar(dVars.nShockMaxlife)}}
{% endblock %}

{% block nShockFreq scoped %}
   {{insertmyvar(dVars.nShockFreq)}}
{% endblock %}

{% block nShockSpan scoped %}
   {{insertmyvar(dVars.nShockSpan)}}
{% endblock %}

{% block sDatabaseName scoped %}
   {{inserttextvar("sDatabaseName", "Database Name", 10, "brokeradmin", extra="disabled")}}
{% endblock %}

{% block sFamilyDir scoped %}
   {{inserttextvar("sFamilyDir", "Family Directory", 10, required=true)}}
{% endblock %}

{% block sSpecificDir scoped %}
   {{inserttextvar("sSpecificDir", "Specific Directory", 10, required=true)}}
{% endblock %}



{%block ignoreme1%}
-----------------------------
master

table structure just for placement, no var content

tr
block name1
block name2
block name3
/tr
five trs
22 tds

child

block name1
    content, trs, tds, substitutions
block name2
    similar content but different vars
22 of these

each block calls macro with a different dict containing name, head, list


nAuditSegments
nDocSize

nGlitchDecay
nGlitchFreq
nGlitchIgnorelevel
nGlitchImpact
nGlitchMaxlife
nGlitchSpan
nLifem

nServerDefaultLife
nShelfSize
nShockImpact
nShockMaxlife
nShockFreq
nShockSpan
nSimlen

{%endblock%}
